syntax = "proto2";

package analysis;

message Init {
    repeated string netInt = 1;
    required uint32 interval = 2;
    required uint32 duration = 3;

    // Change for  a list of keys??
    required uint32 activeMetric = 5;
    optional uint32 clientIP = 6;
    optional uint32 clientPort = 7;
    optional uint32 serverIP = 8;
    optional uint32 serverPort = 9;
};

message Metrics {

}

message MetricValueMsg {
    required string name = 1;    
    required int64 time = 2;
    required string netInt = 3;
    required int64 clientId = 4;

    oneof values {
        MetricAvgMsg metricAvg = 5;
        MetricCumDistrMsg metricCumDistr = 6;
    }
};

message MetricAvgMsg {
    required double avg = 5;
    required double min = 6;
    required double max = 7;
}

message Freq {
    required string name = 1;
    required double freq = 2; 
}

message MetricCumDistrMsg {
    repeated Freq freqs = 1; 
}

message Close {}
